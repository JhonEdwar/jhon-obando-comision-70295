paths:
  /api/cart/:
    get:
      tags:
        - Cart
      summary: Obtener todos los carritos
      description: Retorna todos los carritos (solo admin)
      security:
        - bearerAuth: []
        - cookieAuth: []
      responses:
        '200':
          description: Lista de carritos obtenida exitosamente
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Cart'
        '403':
          $ref: '#/components/responses/ForbiddenError'

    post:
      tags:
        - Cart
      summary: Crear carrito
      description: Crea un nuevo carrito para el comprador autenticado
      security:
        - bearerAuth: []
        - cookieAuth: []
      responses:
        '201':
          description: Carrito creado exitosamente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cart'

  /api/cart/carts:
    get:
      tags:
        - Cart
      summary: Obtener carrito del comprador
      description: Retorna el carrito del comprador autenticado
      security:
        - bearerAuth: []
        - cookieAuth: []
      responses:
        '200':
          description: Carrito del comprador obtenido exitosamente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cart'

  /api/cart/products/{idCart}:
    post:
      tags:
        - Cart
      summary: Agregar producto al carrito
      description: Agrega un producto al carrito especificado
      security:
        - bearerAuth: []
        - cookieAuth: []
      parameters:
        - name: idCart
          in: path
          required: true
          description: ID del carrito
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                productId:
                  type: string
                  description: ID del producto
                  example: "60f7b3b3b3b3b3b3b3b3b3b3"
                quantity:
                  type: integer
                  description: Cantidad del producto
                  example: 2
      responses:
        '200':
          description: Producto agregado al carrito exitosamente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cart'

  /api/cart/{idCart}:
    delete:
      tags:
        - Cart
      summary: Eliminar carrito
      description: Elimina un carrito espec√≠fico
      security:
        - bearerAuth: []
        - cookieAuth: []
      parameters:
        - name: idCart
          in: path
          required: true
          description: ID del carrito
          schema:
            type: string
      responses:
        '200':
          description: Carrito eliminado exitosamente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
